[misc]
assume_yes = true
pre_sudo = true
sudo_command = "sudo"

# Modules you don’t want Topgrade to touch
disable = ["system", "pnpm"]

# Modules you don’t mind failing silently
ignore_failures = ["pnpm"]

# Don’t retry failed upgrades automatically
no_retry = true

# Clean up after upgrades
cleanup = true

# Show progress notifications
notify_each_step = true  # Consider setting to false later

[pre_commands]
"Clean Node global shims" = "bash -lc 'bp=$(brew --prefix 2>/dev/null) && rm -f $bp/bin/{yarn,pnpm,corepack} && rm -rf $bp/lib/node_modules/{yarn,pnpm,corepack}'"

[commands]
"Homebrew Cask Greedy Upgrade" = "brew upgrade --cask --greedy"

[brew]
greedy_cask = true
autoremove = true
# fetch_head = true # Only enable if you use HEAD builds of formulae!
